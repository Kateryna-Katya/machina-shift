{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/* =========================================\n   1. ICONS & SMOOTH SCROLL\n   ========================================= */\nlucide.createIcons();\n\nconst lenis = new Lenis({\n    duration: 1.2,\n    easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n    smooth: true,\n});\n\nfunction raf(time) {\n    lenis.raf(time);\n    requestAnimationFrame(raf);\n}\nrequestAnimationFrame(raf);\n\n/* =========================================\n   2. MOBILE MENU\n   ========================================= */\nconst burger = document.querySelector('.header__burger');\nconst closeBtn = document.querySelector('.mobile-menu__close');\nconst mobileMenu = document.querySelector('.mobile-menu');\nconst mobileLinks = document.querySelectorAll('.mobile-menu__link, .mobile-menu__btn');\n\nfunction toggleMenu() {\n    mobileMenu.classList.toggle('is-open');\n    // Block scrolling when menu is open\n    if (mobileMenu.classList.contains('is-open')) {\n        document.body.style.overflow = 'hidden';\n    } else {\n        document.body.style.overflow = '';\n    }\n}\n\nburger.addEventListener('click', toggleMenu);\ncloseBtn.addEventListener('click', toggleMenu);\n\nmobileLinks.forEach(link => {\n    link.addEventListener('click', toggleMenu);\n});\n\n/* =========================================\n   3. HERO FLUID DISTORTION (Three.js)\n   ========================================= */\nconst container = document.getElementById('canvas-container');\n\nif (container) {\n    const scene = new THREE.Scene();\n    const camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);\n    const renderer = new THREE.WebGLRenderer({ alpha: true }); // Alpha for transparency\n    \n    renderer.setSize(window.innerWidth, window.innerHeight);\n    container.appendChild(renderer.domElement);\n\n    // Texture Loader\n    const loader = new THREE.TextureLoader();\n    \n    // ВАЖНО: Замените URL ниже на свое фоновое изображение (желательно темное, абстрактное)\n    // Сейчас используется плейсхолдер\n    const texture = loader.load('https://picsum.photos/1920/1080?grayscale&blur=2'); \n\n    // Mouse coordinates\n    const mouse = new THREE.Vector2(0, 0);\n    const targetMouse = new THREE.Vector2(0, 0);\n\n    // Shader Uniforms\n    const uniforms = {\n        uTime: { value: 0 },\n        uTexture: { value: texture },\n        uMouse: { value: mouse },\n        uResolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) }\n    };\n\n    // Custom Shader for Fluid/Distortion Effect\n    const material = new THREE.ShaderMaterial({\n        uniforms: uniforms,\n        vertexShader: `\n            varying vec2 vUv;\n            void main() {\n                vUv = uv;\n                gl_Position = vec4(position, 1.0);\n            }\n        `,\n        fragmentShader: `\n            uniform float uTime;\n            uniform sampler2D uTexture;\n            uniform vec2 uMouse;\n            uniform vec2 uResolution;\n            varying vec2 vUv;\n\n            void main() {\n                vec2 uv = vUv;\n                \n                // Aspect ratio correction\n                float aspect = uResolution.x / uResolution.y;\n                \n                // Mouse influence calculation\n                vec2 mousePoint = uMouse;\n                mousePoint.x *= aspect; // correct mouse aspect\n                \n                vec2 uvAspect = uv;\n                uvAspect.x *= aspect; // correct uv aspect\n                \n                // Distance from mouse\n                float dist = distance(uvAspect, mousePoint);\n                \n                // Ripple effect logic\n                float strength = 0.05; // Distortion strength\n                float radius = 0.35;    // Radius of effect\n                \n                // Create a smooth circle of influence\n                float influence = smoothstep(radius, 0.0, dist);\n                \n                // Distort UVs based on influence\n                uv.x += influence * (uv.x - uMouse.x) * strength;\n                uv.y += influence * (uv.y - uMouse.y) * strength;\n\n                // Color tint (Machina Acid green tint on interaction)\n                vec4 color = texture2D(uTexture, uv);\n                \n                // Add subtle scanline effect\n                float scanline = sin(uv.y * 800.0) * 0.02;\n                color.rgb += scanline;\n\n                gl_FragColor = color;\n            }\n        `\n    });\n\n    const geometry = new THREE.PlaneGeometry(2, 2);\n    const plane = new THREE.Mesh(geometry, material);\n    scene.add(plane);\n\n    // Event Listeners\n    document.addEventListener('mousemove', (e) => {\n        // Normalize mouse coordinates to 0..1\n        targetMouse.x = e.clientX / window.innerWidth;\n        targetMouse.y = 1.0 - (e.clientY / window.innerHeight); // Flip Y\n    });\n\n    window.addEventListener('resize', () => {\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        uniforms.uResolution.value.x = window.innerWidth;\n        uniforms.uResolution.value.y = window.innerHeight;\n    });\n\n    // Animation Loop\n    const clock = new THREE.Clock();\n    \n    function animate() {\n        requestAnimationFrame(animate);\n        \n        const elapsedTime = clock.getElapsedTime();\n        uniforms.uTime.value = elapsedTime;\n\n        // Smooth mouse movement (Linear Interpolation)\n        mouse.x += (targetMouse.x - mouse.x) * 0.05;\n        mouse.y += (targetMouse.y - mouse.y) * 0.05;\n\n        renderer.render(scene, camera);\n    }\n\n    animate();\n}\n\nconsole.log('Machina Shift: Systems Operational');"],"names":["lenis","t","raf","time","burger","closeBtn","mobileMenu","mobileLinks","toggleMenu","link","container","animate","elapsedTime","clock","uniforms","mouse","targetMouse","renderer","scene","camera","texture","material","geometry","plane","e"],"mappings":"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"}